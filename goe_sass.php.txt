# goe_sass v0.1
# Allow use of SASS for CSS output.
# Georg Oechsler
# http://txp.oechsler.de/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YToxMDp7czo3OiJ2ZXJzaW9uIjtzOjM6IjAuMSI7czo2OiJhdXRob3IiO3M6MTQ6Ikdlb3Jn
IE9lY2hzbGVyIjtzOjEwOiJhdXRob3JfdXJpIjtzOjIzOiJodHRwOi8vdHhwLm9lY2hzbGVy
LmRlLyI7czoxMToiZGVzY3JpcHRpb24iO3M6MzM6IkFsbG93IHVzZSBvZiBTQVNTIGZvciBD
U1Mgb3V0cHV0LiI7czo1OiJmbGFncyI7aToyO3M6NDoidHlwZSI7aToxO3M6NDoibmFtZSI7
czo4OiJnb2Vfc2FzcyI7czo0OiJoZWxwIjtzOjMzMDI6Igo8aDE+U2Fzc2lmeSBUZXh0cGF0
dGVybiE8L2gxPgoKPHA+VGhpcyBwbHVnaW4gYWxsb3dzIHRoZSB1c2Ugb2YgPGEgaHJlZj0i
aHR0cDovL3Nhc3MtbGFuZy5jb20vIj5TQVNTPC9hPiBmb3IgQ1NTIHByZXByb2Nlc3NpbmcK
d2l0aGluIHRleHRwYXR0ZXJuLjwvcD4KCjxwPkl0IHdpbGwgY29tcGlsZSB0aGUgU0FTUyBj
b2RlIHlvdSBkZWZpbmUgd2l0aGluIHRoZSByZWd1bGFyIENTUyBzdHlsZSBmb3JtIHRvCnN0
YXRpYyBDU1MgZmlsZXMsIHNlcnZpbmcgaXQgdGhyb3VnaCBhIHRhZyB3aGljaCBpcyBxdWl0
ZSBzaW1pbGFyIHRvIHRoZSB3ZWxsCmtub3duICZsdDt0eHA6Y3NzIC8mZ3Q7IHRhZy48L3A+
Cgo8cD5UaGlzIHBsdWdpbiByZWxpZXMgb24gPGEgaHJlZj0iaHR0cDovL3BocHNhc3MuY29t
LyI+cGhwU0FTUzwvYT4gYW5kIGJvcnJvd3MgY29kZSBmcm9tIHRoZQo8YSBocmVmPSJodHRw
czovL2RydXBhbC5vcmcvcHJvamVjdC9zYXNzeSI+c2Fzc3k8L2E+IG1vZHVsZSBmb3IgRHJ1
cGFsLjwvcD4KCjxwPkl0IHN0YXJ0ZWQgb2ZmIGFzIGEgaGFjayBvZiA8YSBocmVmPSJodHRw
Oi8vdGV4dHBhdHRlcm4ub3JnL3BsdWdpbnMvOTM0L3J2bV9jc3MiPnJ2bV9jc3M8L2E+LAp3
aGljaCBjYW4gZG8gc2ltaWxhciB0aGluZ3Mgd2l0aCBMRVNTLiBVbmRlciB0aGUgaG9vZCB5
b3Ugd2lsbCBmaW5kIHRoYXQgaXQgaXMgc3RpbGwKaGVhdmlseSBiYXNlZCBvbiB0aGUgY29k
ZSBvZiB0aGUgZ3JlYXQgPGEgaHJlZj0iaHR0cDovL3Zhbm1lbGljay5jb20vIj5SdXVkIHZh
biBNZWxpY2s8L2E+LjwvcD4KCjxoMj5JbnN0YWxsYXRpb248L2gyPgoKPG9sPgo8bGk+R3Jh
YiBhIGNvcHkgb2YgPGEgaHJlZj0iaHR0cDovL3BocHNhc3MuY29tLyI+UEhQU2FzczwvYT4g
YW5kIHB1dCBpdCBzb21ld2hlcmUgeW91cgp3ZWJzZXJ2ZXIgY2FuIGZpbmQgaXQuIFRoZSBk
ZWZhdWx0IGxvY2F0aW9uIGlzICYjODIxNjt0ZXh0cGF0dGVybi92ZW5kb3IvcGhwc2FzcyYj
ODIxNzsuPC9saT4KPGxpPkNyZWF0ZSBhIGRpcmVjdG9yeSBmb3IgdGhlIHN0YXRpYyBDU1Mg
ZmlsZXMgb24geW91ciB3ZWJzZXJ2ZXIuIFlvdSBzaG91bGQgbWFrZQpzdXJlIHRoYXQgUEhQ
IGlzIGFibGUgdG8gd3JpdGUgdG8gdGhhdCBkaXJlY3RvcnkuIFRoZSBkZWZhdWx0IHBhdGgg
dG8gdGhpcwpkaXJlY3RvcnkgaXMgL2Nzcy48L2xpPgo8bGk+SW5zdGFsbCBhbmQgZW5hYmxl
IHRoZSBwbHVnaW4gbGlrZSBhbnkgb3RoZXIgcGx1Z2luIG91dCB0aGVyZS48L2xpPgo8bGk+
Q2hlY2sgYW5kIGFkanVzdCB0aGUgY29uZmlndXJhdGlvbiB1bmRlciB0aGUgZXh0ZW5zaW9u
cyB0YWIuIEl0IHNoaXBzIHdpdGgKc2FuZSBkZWZhdWx0LiBTZWUgc2VjdGlvbiAmIzgyMjA7
Q29uZmlndXJhdGlvbiYjODIyMTsgZm9yIGRldGFpbHMuPC9saT4KPGxpPklmIHlvdSB3YW50
IHRvIHBsYXkgc2FmZTogUmVzYXZlIGEgQ1NTIHN0eWxlIGRlZmluaXRpb24gZm9ybSBhbmQg
c2VlIGlmIHRoZXJlCmlzIGEgZmlsZSB3cml0dGVuIHRvIHRoZSBvdXRwdXQgZGlyZWN0b3J5
IHlvdSBoYXZlIGNvbmZpZ3VyZWQgaW4gc3RlcCAyLiBZb3UmIzgyMTc7bGwKbmVlZCB0byBy
ZXNhdmUgYWxsIHlvdXIgc3R5bGUgc2hlZXRzIGFueXdheSB0byBjcmVhdGUgdGhlIHN0YXRp
YyBmaWxlcy48L2xpPgo8bGk+T25jZSB5b3VyIHNldCB5b3UgbWF5IHJlcGxhY2UgYWxsIG9j
Y3VycmVuY2VzIG9mICZsdDt0eHA6Y3NzIC8mZ3Q7IHdpdGgKJmx0O3R4cDpnb2Vfc2FzcyAv
Jmd0Oy48L2xpPgo8L29sPgoKPHA+VGhlICZsdDt0eHA6Z29lX3Nhc3MgLyZndDsgdGFnIHN1
cHBsaWVkIGJ5IHRoaXMgcGx1Z2luIGhhcyB0aGUgZXhhY3Qgc2FtZQphdHRyaWJ1dGVzIGFz
IHRoZSBidWlsdC1pbiAmbHQ7dHhwOmNzcyAvJmd0OyB0YWcgYW5kIGNhbiBiZSB1c2VkIGFz
IGEgZHJvcC1pbgpyZXBsYWNlbWVudC48L3A+Cgo8cD5Ob3RlOiBCZWNhdXNlIG5vdCBhbGwg
Y2hhcmFjdGVycyBhcmUgYWxsb3dlZCBpbiBmaWxlbmFtZXMsIGF2b2lkIHVzaW5nCm5vbi1h
bHBoYW51bWVyaWMgY2hhcmFjdGVycyBpbiBzdHlsZSBzaGVldCBuYW1lcy48L3A+Cgo8aDI+
Q29uZmlndXJhdGlvbjwvaDI+Cgo8cD5UaGVyZSBhcmUgZm91ciBjb25maWd1cmF0aW9uIGl0
ZW1zIGZvciB0aGlzIHBsdWdpbjo8L3A+Cgo8ZGw+CjxkdD5QYXRoIHRvIFBIUFNhc3M8L2R0
Pgo8ZGQ+VGhlIGZpbGVzeXN0ZW0gcGF0aCB0byBQSFBTYXNzLiBUaGlzIGlzIHdoZXJlIHRo
ZSBmaWxlIFNhc3NQYXJzZXIucGhwIHNpdHMgaW4uPC9kZD4KPGRkPmRlZmF1bHQgdmFsdWU6
IFtwYXRoIHRvIHRleHRwYXR0ZXJuIGRpcmVjdG9yeV0gKyB2ZW5kb3IvcGhwc2FzczwvZGQ+
CjwvZGw+Cgo8ZGw+CjxkdD5DU1MgT3V0cHV0IERpcmVjdG9yeTwvZHQ+CjxkZD5UaGUgbG9j
YXRpb24gb2YgdGhlIGNzcyBvdXRwdXQgZGlyZWN0b3J5IHJlbGF0aXZlIHRvIGRvY3VtZW50
IHJvb3QuPC9kZD4KPGRkPmRlZmF1bHQgdmFsdWU6IC9jc3M8L2RkPgo8L2RsPgoKPGRsPgo8
ZHQ+T3V0cHV0IFN0eWxlPC9kdD4KPGRkPlRoZXJlIGFyZSBzZXZlcmFsIG91dHB1dCBzdHls
ZXMgdG8gY2hvb3NlIGZyb20uIENob2ljZSBpcyB5b3Vycy48L2RkPgo8ZGQ+bmVzdGVkOiBF
YWNoIHByb3BlcnR5K3NlbGVjdG9yIHRha2VzIHVwIDEgbGluZSBzZWxlY3RvciBpbmRlbnRh
dGlvbiByZWZsZWN0cyBuZXN0aW5nIGRlcHRoLjwvZGQ+CjxkZD5leHBhbmRlZDogRWFjaCBw
cm9wZXJ0eStzZWxlY3RvciB0YWtlcyB1cCAxIGxpbmUgbm8gc2VsZWN0b3IgaW5kZW50YXRp
b24uPC9kZD4KPGRkPmNvbXBhY3Q6IEVhY2ggc2VsZWN0b3IgdGFrZXMgdXAgMSBsaW5lIHdp
dGggcHJvcGVydGllcyBvbiB0aGUgc2FtZSBsaW5lLiBObyBpbmRlbnRhdGlvbi48L2RkPgo8
ZGQ+Y29tcHJlc3NlZDogQ29tcHJlc3NlZDogQWxtb3N0IG5vIHdoaXRlc3BhY2UgZGVzaWdu
ZWQgdG8gYmUgYXMgc3BhY2UtZWZmaWNpZW50IGFzIHBvc3NpYmxlLjwvZGQ+CjxkZD5kZWZh
dWx0IHZhbHVlOiBuZXN0ZWQ8L2RkPgo8L2RsPgoKPGRsPgo8ZHQ+TGFuZ3VhZ2UgU3ludGF4
PC9kdD4KPGRkPlBIUFNhc3Mgc3VwcG9ydHMgdHdvIHN5bnRheCBvcHRpb25zLjwvZGQ+Cjxk
ZD5zY3NzOiBUaGUgcmVndWxhciAmIzgyMjA7U2Fzc3kgQ1NTJiM4MjIxOyBzdHlsZSB3aGlj
aCBpcyBhIHN1cGVyc2V0IG9mIENTUzMmIzgyMTc7cyBzeW50YXguPC9kZD4KPGRkPnNhc3M6
IFRoZSBvbGRlciBzeW50YXgga25vd24gYXMgdGhlIGluZGVudGVkIHN5bnRheC48L2RkPgo8
ZGQ+ZGVmYXVsdCB2YWx1ZTogc2NzczwvZGQ+CjwvZGw+CjwvZGl2PgoKIjtzOjQ6ImNvZGUi
O3M6NzQyMjoiaWYgKHR4cGludGVyZmFjZSA9PSAnYWRtaW4nKSB7CiAgcmVnaXN0ZXJfY2Fs
bGJhY2soJ2dvZV9zYXNzX2Nzc19zYXZlJywgJ2NzcycsICdjc3Nfc2F2ZScpOwogIHJlZ2lz
dGVyX2NhbGxiYWNrKCdnb2Vfc2Fzc19jc3Nfc2F2ZScsICdjc3MnLCAnY3NzX3NhdmVfcG9z
dGVkJyk7CiAgcmVnaXN0ZXJfY2FsbGJhY2soJ2dvZV9zYXNzX2Nzc19zYXZlJywgJ2Nzcycs
ICdkZWxfZGVjJyk7CiAgcmVnaXN0ZXJfY2FsbGJhY2soJ2dvZV9zYXNzX2Nzc19kZWxldGUn
LCAnY3NzJywgJ2Nzc19kZWxldGUnKTsKICByZWdpc3Rlcl9jYWxsYmFjaygnZ29lX3Nhc3Nf
Y2xlYW51cCcsICdwbHVnaW5fbGlmZWN5Y2xlLmdvZV9zYXNzJywgJ2RlbGV0ZWQnKTsKICBy
ZWdpc3Rlcl9jYWxsYmFjaygnZ29lX3Nhc3NfZGVmYXVsdF9wcmVmcycsICdwbHVnaW5fbGlm
ZWN5Y2xlLmdvZV9zYXNzJywgJ2VuYWJsZWQnKTsKICByZWdpc3Rlcl9jYWxsYmFjaygnZ29l
X3Nhc3NfcHJlZnMnLCAncGx1Z2luX3ByZWZzLmdvZV9zYXNzJyk7CgogIC8vIFJlZ2lzdGVy
IGV2ZW50IHNhc3Njb25maWcgd2l0aCBvd24gdGFiIHVuZGVyIGV4dGVuc2lvbnMgYW5kIHJl
c3BlY3RpdmUgY2FsbGJhY2suCiAgYWRkX3ByaXZzKCdnb2Vfc2Fzc19jb25maWcnKTsKICBy
ZWdpc3Rlcl90YWIoJ2V4dGVuc2lvbnMnLCAnZ29lX3Nhc3NfY29uZmlnJywgZ1R4dCgnU0FT
UyBDb25maWd1cmF0aW9uJykpOwogIHJlZ2lzdGVyX2NhbGxiYWNrKCdnb2Vfc2Fzc19jb25m
aWcnLCAnZ29lX3Nhc3NfY29uZmlnJyk7Cn0KCgovKioKICogQ29kZSBmb3IgdGhlIDx0eHA6
Z29lX3Nhc3MgLz4gdGFnLgogKgogKiBCZWhhdmVzIHByZXR0eSBtdWNoIGxpa2UgPHR4cDpj
c3MgLz4gdGFnLCBidXQgbGlua3Mgb3VyIGNvbXBpbGVkIFNBU1Mgb3V0cHV0CiAqIGFzIHN0
YXRpYyBmaWxlcy4KICovCmZ1bmN0aW9uIGdvZV9zYXNzKCRhdHRzKSB7CiAgZ2xvYmFsICR0
eHBfZXJyb3JfY29kZSwgJHMsICRwYXRoX3RvX3NpdGUsICR2ZXJzaW9uOwoKICAkZ29lX3Nh
c3NfY3NzX2RpciA9IHNhZmVfZmllbGQoJ3ZhbCcsICd0eHBfcHJlZnMnLCAibmFtZT0nZ29l
X3Nhc3NfY3NzX2RpciciKTsKCiAgZXh0cmFjdChsQXR0cyhhcnJheSgKICAgICdmb3JtYXQn
ID0+ICd1cmwnLAogICAgJ21lZGlhJyAgPT4gJ3NjcmVlbicsCiAgICAnbicgICAgICA9PiAn
JywKICAgICduYW1lJyAgID0+ICcnLAogICAgJ3JlbCcgICAgPT4gJ3N0eWxlc2hlZXQnLAog
ICAgJ3RpdGxlJyAgPT4gJycsCiAgKSwgJGF0dHMpKTsKCiAgaWYgKCEkbiBhbmQgISRuYW1l
KSB7CiAgICBpZiAoJHMpIHsKICAgICAgJG5hbWUgPSBzYWZlX2ZpZWxkKCdjc3MnLCAndHhw
X3NlY3Rpb24nLCAibmFtZT0nIi5kb1NsYXNoKCRzKS4iJyIpOwogICAgfQogICAgZWxzZSB7
CiAgICAgICRuYW1lID0gJ2RlZmF1bHQnOwogICAgfQogIH0KICBlbHNlaWYgKCEkbmFtZSkg
ewogICAgJG5hbWUgPSAkbjsKICB9CgogIC8vIERpc3Bvc2UgbGVhZGluZyBzbGFzaCBvbiAk
Z29lX3Nhc3NfY3NzX2RpciwgaWYgYW55LCB0byBwcmV2ZW50IGRvdWJsZQogIC8vIHNsYXNo
ZXMgaW4gb3V0cHV0LgogICRnb2Vfc2Fzc19jc3NfZGlyID0gcHJlZ19yZXBsYWNlKCcjXi8j
JywgJycsICRnb2Vfc2Fzc19jc3NfZGlyKTsKICAkZmlsZSA9ICRnb2Vfc2Fzc19jc3NfZGly
IC4gJy8nIC4gc3RydG9sb3dlcihzYW5pdGl6ZUZvclVybCgkbmFtZSkpLicuY3NzJzsKCiAg
aWYgKGVtcHR5KCRnb2Vfc2Fzc19jc3NfZGlyKSBvciAhaXNfcmVhZGFibGUoJHBhdGhfdG9f
c2l0ZS4nLycuJGZpbGUpKSB7CiAgICBpZiAodmVyc2lvbl9jb21wYXJlKCR2ZXJzaW9uLCAn
NC4zLjAnLCAnPj0nKSkgewogICAgICB1bnNldCgkYXR0c1snbiddKTsKICAgICAgJGF0dHNb
J25hbWUnXSA9ICRuYW1lOwogICAgfSBlbHNlIHsKICAgICAgdW5zZXQoJGF0dHNbJ25hbWUn
XSk7CiAgICAgICRhdHRzWyduJ10gPSAkbmFtZTsKICAgIH0KICAgIHJldHVybiBjc3MoJGF0
dHMpOwogIH0KCiAgaWYgKCRmb3JtYXQgPT0gJ2xpbmsnKSB7CiAgICByZXR1cm4gJzxsaW5r
IHJlbD0iJyAuIHR4cHNwZWNpYWxjaGFycygkcmVsKSAuICciIHR5cGU9InRleHQvY3NzIicu
CiAgICAgICgkbWVkaWEgPyAnIG1lZGlhPSInIC4gdHhwc3BlY2lhbGNoYXJzKCRtZWRpYSkg
LiAnIicgOiAnJykuCiAgICAgICgkdGl0bGUgPyAnIHRpdGxlPSInIC4gdHhwc3BlY2lhbGNo
YXJzKCR0aXRsZSkgLiAnIicgOiAnJykuCiAgICAgICcgaHJlZj0iJyAuIGh1IC4gdHhwc3Bl
Y2lhbGNoYXJzKCRmaWxlKSAuICciIC8+JzsKICB9CgogIHJldHVybiBodSAuIHR4cHNwZWNp
YWxjaGFycygkZmlsZSk7Cn0KCi8qKgogKiBDYWxsYmFjayBmb3IgdGhlICJjc3Nfc2F2ZSIg
ZXZlbnQuCiAqCiAqIENvbXBpbGUgU0FTUyBjb2RlIGZyb20gZGF0YWJhc2UgYW5kIHNhdmUg
aXQgdG8gQ1NTIGZpbGVzLgogKi8KZnVuY3Rpb24gZ29lX3Nhc3NfY3NzX3NhdmUoKSB7CiAg
Z2xvYmFsICRwYXRoX3RvX3NpdGU7CgogICR2YXJzID0gZ29lX3Nhc3NfdmFycygpOwogIGZv
cmVhY2ggKCR2YXJzIGFzICR2YXIgPT4gJGRhdGEpIHsKICAgICQkdmFyID0gc2FmZV9maWVs
ZCgndmFsJywgJ3R4cF9wcmVmcycsICJuYW1lPSckdmFyJyIpOwogIH0KCiAgJG5hbWUgPSAo
cHMoJ2NvcHknKSBvciBwcygnc2F2ZW5ldycpKSA/IHBzKCduZXduYW1lJykgOiBwcygnbmFt
ZScpOwogICRmaWxlbmFtZSA9IHN0cnRvbG93ZXIoc2FuaXRpemVGb3JVcmwoJG5hbWUpKTsK
CiAgaWYgKGVtcHR5KCRnb2Vfc2Fzc19jc3NfZGlyKSBvciAhJGZpbGVuYW1lKSB7CiAgICBy
ZXR1cm47CiAgfQoKICAkY3NzID0gc2FmZV9maWVsZCgnY3NzJywgJ3R4cF9jc3MnLCAibmFt
ZT0nIi5kb1NsYXNoKCRuYW1lKS4iJyIpOwoKICBpZiAoJGNzcykgewogICAgaWYgKHByZWdf
bWF0Y2goJyFeW2EtekEtWjAtOS8rXSo9ezAsMn0kIScsICRjc3MpKSB7CiAgICAgICRjc3Mg
PSBiYXNlNjRfZGVjb2RlKCRjc3MpOwogICAgfQoKICAgICRsaWJyYXJ5ID0gJGdvZV9zYXNz
X3BhdGggLiAnL1Nhc3NQYXJzZXIucGhwJzsKICAgICR0ZW1wbGF0ZV9kaXIgPSAkcGF0aF90
b19zaXRlIC4gJGdvZV9zYXNzX2Nzc19kaXIgLiAnL3Nhc3MtdGVtcGxhdGVzJzsKCiAgICBp
ZiAoZmlsZV9leGlzdHMoJGxpYnJhcnkpKSB7CiAgICAgIHRyeSB7CiAgICAgICAgcmVxdWly
ZV9vbmNlICgkbGlicmFyeSk7CgogICAgICAgICRvcHRpb25zID0gYXJyYXkoCiAgICAgICAg
ICAnZGVidWcnID0+IFRSVUUsCiAgICAgICAgICAnc3ludGF4JyA9PiAkZ29lX3Nhc3Nfc3R5
bGUsCiAgICAgICAgICAnc3R5bGUnID0+ICRnb2Vfc2Fzc19zdHlsZSwKICAgICAgICAgICds
b2FkX3BhdGhzJyA9PiBhcnJheSgkdGVtcGxhdGVfZGlyKSwKICAgICAgICApOwoKICAgICAg
ICAkcGFyc2VyID0gbmV3IFNhc3NQYXJzZXIoJG9wdGlvbnMpOwogICAgICAgICRjc3MgPSAk
cGFyc2VyLT50b0NzcygkY3NzLCBmYWxzZSk7CiAgICAgIH0KICAgICAgY2F0Y2ggKEV4Y2Vw
dGlvbiAkZSkgewogICAgICAgIHByaW50ICI8c2NyaXB0PmFsZXJ0KCdTQVNTIEVycm9yOiAi
IC4gcHJlZ19yZXBsYWNlKCcvXG4vJywgJyAnLCAkZS0+Z2V0TWVzc2FnZSgpKSAuICInKTs8
L3NjcmlwdD4iOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQoKICAgICRmaWxlID0g
JHBhdGhfdG9fc2l0ZSAuICcvJyAuICRnb2Vfc2Fzc19jc3NfZGlyIC4gJy8nIC4gJGZpbGVu
YW1lOwogICAgJGhhbmRsZSA9IGZvcGVuKCRmaWxlIC4gJy5jc3MnLCAnd2InKTsKICAgIGZ3
cml0ZSgkaGFuZGxlLCAkY3NzKTsKICAgIGZjbG9zZSgkaGFuZGxlKTsKICAgIGNobW9kKCRm
aWxlIC4gJy5jc3MnLCAwNjQ0KTsKICB9Cn0KCgovKioKICogQ2FsbGJhY2sgZm9yIHRoZSAi
Y3NzIiBldmVudC4KICogVHJpZ2dlcmVkIHdoZW4gY3NzIGlzIGRlbGV0ZWQuCiAqCiAqIFVu
bGluayBjb21waWxlZCBjc3MgZmlsZXMuCiAqLwpmdW5jdGlvbiBnb2Vfc2Fzc19jc3NfZGVs
ZXRlKCkKewogIGdsb2JhbCAkcGF0aF90b19zaXRlOwoKICAkZ29lX3Nhc3NfY3NzX2RpciA9
IHNhZmVfZmllbGQoJ3ZhbCcsICd0eHBfcHJlZnMnLCAibmFtZT0nZ29lX3Nhc3NfY3NzX2Rp
ciciKTsKCiAgaWYgKHNhZmVfZmllbGQoJ2NzcycsICd0eHBfY3NzJywgIm5hbWU9JyIuZG9T
bGFzaChwcygnbmFtZScpKS4iJyIpKSB7CiAgICByZXR1cm47CiAgfQoKICAkbmFtZSA9IHN0
cnRvbG93ZXIoc2FuaXRpemVGb3JVcmwocHMoJ25hbWUnKSkpOwogICRmaWxlID0gJHBhdGhf
dG9fc2l0ZSAuICRnb2Vfc2Fzc19jc3NfZGlyIC4gJy8nIC4gJG5hbWU7CgogIGlmICghZW1w
dHkoJGdvZV9zYXNzX2Nzc19kaXIpIGFuZCAkbmFtZSkgewogICAgdW5saW5rKCRmaWxlLicu
Y3NzJyk7CiAgfQp9CgovKioKICogSGVscGVyIHJldHVybmluZyBjb25maWd1cmF0aW9uIHZh
cmlhYmxlIGRhdGEuCiAqLwpmdW5jdGlvbiBnb2Vfc2Fzc192YXJzKCkgewogIGdsb2JhbCAk
cGF0aF90b19zaXRlOwoKICByZXR1cm4gYXJyYXkoCiAgICAnZ29lX3Nhc3NfcGF0aCcgPT4g
YXJyYXkoCiAgICAgICd0aXRsZScgPT4gJ1BhdGggdG8gUEhQU2FzcycsCiAgICAgICdkZWZh
dWx0JyA9PiB0eHBhdGggLiAnL3ZlbmRvci9waHBzYXNzJywKICAgICksCiAgICAnZ29lX3Nh
c3NfY3NzX2RpcicgPT4gYXJyYXkoCiAgICAgICd0aXRsZScgPT4gJ0NTUyBPdXRwdXQgRGly
ZWN0b3J5JywKICAgICAgJ2RlZmF1bHQnID0+ICcvY3NzJywKICAgICksCiAgICAnZ29lX3Nh
c3Nfc3R5bGUnID0+IGFycmF5KAogICAgICAndGl0bGUnID0+ICdPdXRwdXQgU3R5bGUnLAog
ICAgICAnZGVmYXVsdCcgPT4gJ25lc3RlZCcsCiAgICApLAogICAgJ2dvZV9zYXNzX3N5bnRh
eCcgPT4gYXJyYXkoCiAgICAgICd0aXRsZScgPT4gJ0xhbmd1YWdlIFN5bnRheCcsCiAgICAg
ICdkZWZhdWx0JyA9PiAnc2NzcycsCiAgICApLAogICk7Cn0KCi8qKgogKiBDYWxsYmFjayBm
b3IgdGhlICJwbHVnaW5fbGlmZWN5Y2xlIiBldmVudC4KICogVHJpZ2dlcmVkIHdoZW4gdGhl
IHBsdWdpbiBpcyBkZWxldGVkLgogKgogKiBEaXNwb3NlIGNvbmZpZyB2YXJpYWJsZXMuCiAq
LwpmdW5jdGlvbiBnb2Vfc2Fzc19jbGVhbnVwKCRldmVudCwgJHN0ZXApIHsKICAkdmFycyA9
IGdvZV9zYXNzX3ZhcnMoKTsKCiAgLy9EZWxldGUgY29uZmlnIHZhcmlhYmxlcy4KICBmb3Jl
YWNoIChhcnJheV9rZXlzKCR2YXJzKSBhcyAkdmFyKSB7CiAgICBzYWZlX2RlbGV0ZSgndHhw
X3ByZWZzJywgIm5hbWU9JyR2YXInIik7CiAgfQp9CgovKioKICogQ2FsbGJhY2sgZm9yIHRo
ZSAiZ29lX3Nhc3NfY29uZmlnIiBldmVudC4KICoKICogU2hvdyBhbmQgcHJvY2VzcyBjb25m
aWd1cmF0aW9uIGZvcm0uCiAqLwpmdW5jdGlvbiBnb2Vfc2Fzc19jb25maWcoJGV2ZW50LCAk
c3RlcCkgewoKICBpbmNsdWRlKHR4cGF0aCAuICcvaW5jbHVkZS90eHBfcHJlZnMucGhwJyk7
CgogICR2YXJzID0gZ29lX3Nhc3NfdmFycygpOwoKICAvLyBSZWFkIHZhbHVlIGZyb20gZGF0
YWJhc2Ugb3IgdXNlIGRlZmF1bHRzCiAgZm9yZWFjaCAoJHZhcnMgYXMgJHZhciA9PiAkZGF0
YSkgewogICAgJCR2YXIgPSBzYWZlX2ZpZWxkKCd2YWwnLCAndHhwX3ByZWZzJywgIm5hbWU9
JyR2YXInIik7CgogICAgaWYgKCEgJCR2YXIpIHsKICAgICAgaWYgKCQkdmFyID09PSAnJykg
ewogICAgICAgIHNhZmVfdXBkYXRlKCd0eHBfcHJlZnMnLCAidmFsID0gJ3skZGF0YVsnZGVm
YXVsdCddfSciLCAibmFtZSA9ICckdmFyJyBhbmQgcHJlZnNfaWQgPScxJyIpOwogICAgICB9
CiAgICAgIGVsc2UgewogICAgICAgIHNhZmVfaW5zZXJ0KCd0eHBfcHJlZnMnLCAibmFtZT0n
JHZhcicsIHZhbD0neyRkYXRhWydkZWZhdWx0J119JywgcHJlZnNfaWQgPScxJyIpOwogICAg
ICB9CiAgICAgICQkdmFyID0gJGRhdGFbJ2RlZmF1bHQnXTsKICAgIH0KICB9CgogIC8vIFNh
dmUgdmFsdWVzIGlmIGZvcm0gd2FzIHN1Ym1pdHRlZAogIGlmIChncHMoInN1Ym1pdCIpKSB7
CiAgICBmb3JlYWNoIChhcnJheV9rZXlzKCR2YXJzKSBhcyAkdmFyKSB7CiAgICAgIHNhZmVf
dXBkYXRlKCd0eHBfcHJlZnMnLCAidmFsID0gJyIuYWRkc2xhc2hlcyhwcygkdmFyKSkuIici
LCJuYW1lID0gJyR2YXInIGFuZCBwcmVmc19pZCA9JzEnIik7CiAgICB9CiAgICBoZWFkZXIo
IkxvY2F0aW9uOiBpbmRleC5waHA/ZXZlbnQ9c2Fzc2NvbmZpZyIpOwogIH0KCiAgLy8gT3V0
cHV0IGZvcm0KICAkc2Fzc0NvbmZpZ1R4dCA9IGdUeHQoIlNBU1MgQ29uZmlndXJhdGlvbiIp
OwogIHBhZ2V0b3AoJHNhc3NDb25maWdUeHQpOwoKICAkdGRhU3R5bGUgPSAnIHN0eWxlPSJ0
ZXh0LWFsaWduOnJpZ2h0O3ZlcnRpY2FsLWFsaWduOm1pZGRsZSInOwogICRmb3JtID0gc3Rh
cnRUYWJsZSgibGlzdCIpIC4gdHIodGRjcyhoZWQoJHNhc3NDb25maWdUeHQsMSksMikpOwoK
ICBmb3JlYWNoICgkdmFycyBhcyAkdmFyID0+ICRkYXRhKSB7CiAgICAkZm9ybSAuPSB0cih0
ZGEoZ1R4dCgkZGF0YVsndGl0bGUnXSksICR0ZGFTdHlsZSkgLiB0ZGEodGV4dF9pbnB1dCgk
dmFyLCAkJHZhciwgJzQwJyksICcnKSk7CiAgfQoKICAkZm9ybSAuPSB0cih0ZGEoZ3JhZihm
SW5wdXQoInN1Ym1pdCIsInN1Ym1pdCIsIGdUeHQoIlN1Ym1pdCIpLCAicHVibGlzaCIpKSwg
JyBjb2xzcGFuPSIyIicpKTsKICAkZm9ybSAuPSBlSW5wdXQoInNhc3Njb25maWciKTsKICAk
Zm9ybSAuPSBlbmRUYWJsZSgpOwoKICBlY2hvIGZvcm0oJGZvcm0pOwp9CgovKioKICogQ2Fs
bGJhY2sgZm9yIHRoZSAicGx1Z2luX2xpZmVjeWNsZSIgZXZlbnQuCiAqIFRyaWdnZXJlZCB3
aGVuIHRoZSBwbHVnaW4gaXMgZW5hYmxlZC4KICoKICogU2V0dXAgZGVmYXVsdCBjb25maWcg
dmFyaWFibGVzLgogKi8KZnVuY3Rpb24gZ29lX3Nhc3NfZGVmYXVsdF9wcmVmcygkZXZlbnQs
ICRzdGVwKSB7CgogIGluY2x1ZGUodHhwYXRoIC4gJy9pbmNsdWRlL3R4cF9wcmVmcy5waHAn
KTsKCiAgJHZhcnMgPSBnb2Vfc2Fzc192YXJzKCk7CgogIC8vIElmIHZhcmlhYmxlcyBhcmUg
bm90IHNldCBvciBlbXB0eSB3cml0ZSBkZWZhdWx0IHZhbHVlcy4KICBmb3JlYWNoICgkdmFy
cyBhcyAkdmFyID0+ICRkYXRhKSB7CiAgICAkJHZhciA9IHNhZmVfZmllbGQoJ3ZhbCcsICd0
eHBfcHJlZnMnLCAibmFtZT0nJHZhciciKTsKCiAgICBpZiAoISAkJHZhcikgewogICAgICBp
ZiAoJCR2YXIgPT09ICcnKSB7CiAgICAgICAgc2FmZV91cGRhdGUoJ3R4cF9wcmVmcycsICJ2
YWwgPSAneyRkYXRhWydkZWZhdWx0J119JyIsICJuYW1lID0gJyR2YXInIGFuZCBwcmVmc19p
ZCA9JzEnIik7CiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgc2FmZV9pbnNlcnQoJ3R4
cF9wcmVmcycsICJuYW1lPSckdmFyJywgdmFsPSd7JGRhdGFbJ2RlZmF1bHQnXX0nLCBwcmVm
c19pZCA9JzEnIik7CiAgICAgIH0KICAgIH0KICB9Cn0KIjtzOjM6Im1kNSI7czozMjoiMjQz
ZmVhZTk0ZjdmYjk4YzE4MDIxN2EzYjBmYTUwODIiO30=
